# FIVC Journey

一个基于FastAPI和SQLAlchemy的现代化旅游全程追踪后端系统，为用户提供旅游行前、行中、行后的全过程追踪和帮助。

## 👨‍💻 作者

**Charlie ZHANG**  
📧 Email: sunnypig2002@gmail.com

## 🎯 项目愿景

我们致力于为旅行者提供一个全面、智能、易用的旅游追踪平台，让每次旅行都变得更加有序、有趣、有意义。

## 🌟 功能特性

### 核心功能
- **用户管理**: 完整的用户注册、登录、个人信息管理系统
- **旅行计划**: 创建、管理旅行计划，支持多种状态跟踪
- **行程安排**: 详细的日程安排，包括交通、住宿、观光等
- **费用记录**: 旅行费用记录和统计分析
- **旅行日志**: 记录旅行过程中的见闻和感受

### 技术特性
- **异步支持**: 基于FastAPI的高性能异步API
- **现代ORM**: SQLAlchemy 2.0异步ORM，支持SQLite和PostgreSQL
- **安全认证**: JWT Token认证 + bcrypt密码加密
- **API文档**: 自动生成的Swagger和ReDoc文档
- **数据验证**: Pydantic模型验证，确保数据安全性
- **包管理**: 使用uv进行快速包管理

## 🏗️ 项目架构

```
fivc-journey/
├── app/                      # 应用核心代码
│   ├── api/v1/              # API版本1
│   │   ├── endpoints/       # 具体API端点
│   │   └── router.py        # 路由配置
│   ├── core/                # 核心配置
│   │   ├── config.py        # 应用配置
│   │   ├── database.py      # 数据库配置
│   │   └── security.py      # 安全认证
│   ├── models/              # 数据库模型
│   └── schemas/             # Pydantic模型
├── docs/                    # 项目文档
├── main.py                  # 应用入口
├── pyproject.toml          # 项目配置和依赖
└── config.env              # 环境变量配置
```

### 架构设计原则

1. **分层架构**: 明确的业务逻辑分层，便于维护和扩展
2. **依赖注入**: 使用FastAPI的依赖注入系统
3. **异步编程**: 全面采用异步编程提高性能
4. **类型安全**: 使用类型提示增强代码可靠性
5. **配置管理**: 环境变量和配置文件分离

## 📊 数据模型

### 用户模型 (User)
- **基本信息**: 用户名、邮箱、姓名、电话
- **个人资料**: 头像、个人简介、偏好设置
- **状态管理**: 激活状态、验证状态、权限等级

### 旅行计划模型 (TravelPlan)
- **基本信息**: 标题、描述、目的地、标签
- **时间管理**: 开始日期、结束日期、持续时间
- **预算控制**: 预算金额、已花费、剩余预算
- **状态跟踪**: 计划中 → 已确认 → 进行中 → 已完成 → 已取消

### 行程安排模型 (Itinerary)
- **活动类型**: 交通、住宿、观光、用餐、购物、娱乐
- **时间地点**: 具体时间、地理位置、持续时间
- **预订信息**: 预订状态、确认号、联系方式
- **费用估算**: 预估费用、实际费用

### 费用记录模型 (Expense)
- **分类管理**: 交通、住宿、餐饮、门票、购物、娱乐、保险、签证
- **金额信息**: 金额、货币类型、汇率
- **凭证管理**: 收据图片、支付方式、商户信息
- **关联关系**: 关联旅行计划、行程安排

### 旅行日志模型 (TravelLog)
- **内容管理**: 标题、正文内容、情感标签
- **时空信息**: 创建时间、地理位置、天气情况
- **媒体附件**: 图片、标签、心情记录
- **隐私控制**: 私人/公开/朋友可见

## 🔐 安全设计

### 认证授权
- **JWT Token**: 无状态的Token认证
- **密码安全**: bcrypt加密存储
- **权限控制**: 基于角色的访问控制
- **会话管理**: Token过期和刷新机制

### 数据安全
- **输入验证**: Pydantic模型验证
- **SQL注入防护**: SQLAlchemy ORM防护
- **XSS防护**: 自动转义用户输入
- **CORS配置**: 跨域请求安全配置

## 🚀 性能优化

### 数据库优化
- **异步ORM**: SQLAlchemy 2.0异步操作
- **连接池**: 数据库连接池管理
- **索引设计**: 合理的数据库索引
- **查询优化**: 避免N+1查询问题

### API性能
- **异步处理**: FastAPI异步视图
- **分页查询**: 大数据量分页处理
- **缓存策略**: 合理的缓存机制
- **响应压缩**: 自动响应内容压缩

## 🌍 国际化支持

- **多语言**: 预留多语言支持接口
- **多货币**: 支持多种货币和汇率转换
- **时区处理**: 自动时区转换
- **地理位置**: 地理位置服务集成

## 📈 扩展性设计

### 模块化设计
- **松耦合**: 模块间低耦合设计
- **可插拔**: 组件可插拔架构
- **微服务就绪**: 支持拆分为微服务
- **API版本**: 支持API版本管理

### 第三方集成
- **地图服务**: 支持多种地图API
- **天气服务**: 天气信息集成
- **支付网关**: 支付服务集成
- **社交媒体**: 社交平台分享

## 🎨 用户体验

### API设计
- **RESTful**: 遵循REST设计原则
- **一致性**: 统一的响应格式
- **错误处理**: 友好的错误信息
- **文档完整**: 完整的API文档

### 开发体验
- **类型提示**: 完整的类型标注
- **自动补全**: IDE友好的代码结构
- **测试覆盖**: 完整的测试用例
- **开发工具**: 完善的开发工具链

## 🔮 未来规划

### 短期目标
- [ ] 完善单元测试覆盖
- [ ] 添加集成测试
- [ ] 优化API性能
- [ ] 完善错误处理

### 中期目标
- [ ] 移动端API优化
- [ ] 实时通知系统
- [ ] 高级统计分析
- [ ] 社交功能扩展

### 长期目标
- [ ] 智能推荐系统
- [ ] 机器学习集成
- [ ] 微服务架构
- [ ] 多租户支持

## 📞 贡献指南

我们欢迎社区贡献！请参阅：

- [开发指南](./development.md)
- [编码规范](./coding-standards.md)
- [提交规范](./contributing.md)

## 📄 许可证

本项目采用 MIT 许可证。详见 [LICENSE](../LICENSE) 文件。 